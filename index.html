<!-- journals.html -->
<!DOCTYPE html>
<html lang="ru" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ñ—É—Ä–Ω–∞–ª—ã</title>

  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="photos.css" /> <!-- –°—Ç–∏–ª–∏ –æ—Ç photos.html -->

  <script src="https://unpkg.com/tabulator-tables@5.5.0/dist/js/tabulator.min.js"></script>
  <link href="https://unpkg.com/tabulator-tables@5.5.0/dist/css/tabulator.min.css" rel="stylesheet">
  <script src="https://kit.fontawesome.com/1d9fdf34d3.js" crossorigin="anonymous"></script>
</head>
<body>
  <div class="app-container">
    <aside class="sidebar">
      <h2>Intellectual Journal</h2>
      <ul>
        <li><i class="fas fa-tachometer-alt"></i> –î–∞—à–±–æ—Ä–¥</li>
        <li><i class="fas fa-building"></i> –û–±—ä–µ–∫—Ç—ã</li>
        <li><i class="fas fa-camera"></i> –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</li>
        <li class="active"><i class="fas fa-book"></i> –ñ—É—Ä–Ω–∞–ª—ã</li>
        <li><i class="fas fa-chart-line"></i> –û—Ç—á—ë—Ç—ã</li>
      </ul>
    </aside>

    <main class="main-content">
      <header class="header">
        <h1>–ñ—É—Ä–Ω–∞–ª—ã</h1>
        <button id="themeToggle" class="theme-toggle">üåó</button>
      </header>

      <!-- –í–∫–ª–∞–¥–∫–∏ -->
      <div class="tabs">
        <button class="tab-btn active" data-tab="tab-objects">üìÅ –†–µ–µ—Å—Ç—Ä –æ–±—ä–µ–∫—Ç–æ–≤</button>
        <button class="tab-btn" data-tab="tab-documents">üìé –†–µ–µ—Å—Ç—Ä –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</button>
      </div>

      <!-- üìÅ –†–µ–µ—Å—Ç—Ä –æ–±—ä–µ–∫—Ç–æ–≤ -->
      <section id="tab-objects" class="tab-section active">
        <div class="top-bar filters" id="object-filters">
          <input id="filter-name" placeholder="–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞" />
          <input id="filter-id" placeholder="ID –æ–±—ä–µ–∫—Ç–∞" />
          <input id="filter-status" placeholder="–°—Ç–∞—Ç—É—Å" />
          <input id="filter-district" placeholder="–û–∫—Ä—É–≥" />
          <input id="filter-performer" placeholder="–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å" />
          <input id="filter-year" placeholder="–ì–æ–¥ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è" />
          <input id="filter-start" placeholder="–ù–∞—á–∞–ª–æ –ø–µ—Ä–∏–æ–¥–∞" />
          <input id="filter-end" placeholder="–ö–æ–Ω–µ—Ü –ø–µ—Ä–∏–æ–¥–∞" />
        </div>
        <div id="tableObjects"></div>
      </section>

      <!-- üìé –†–µ–µ—Å—Ç—Ä –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ -->
      <section id="tab-documents" class="tab-section">
        <div class="top-bar filters" id="document-filters">
          <input id="filter-doc-name" placeholder="–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞" />
          <input id="filter-doc-num" placeholder="–ù–æ–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞" />
          <input id="filter-doc-date" placeholder="–î–∞—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞" />
        </div>
        <div id="tableDocuments"></div>
      </section>
    </main>
  </div>

  <script>
    // –î–∞–Ω–Ω—ã–µ
    const objectData = [
      {
        id: "obj-110628",
        name: "üìç 1905 –≥–æ–¥–∞ —É–ª–∏—Ü–∞",
        objectId: 110628,
        district: "–¶–ê–û",
        performer: "–ê–î",
        responsible: "–°—Ç–æ—Ä–æ–∂–µ–≤ –í. –õ.",
        status: "–í —Ä–∞–±–æ—Ç–µ",
        year: "2024",
        startDate: "01.03.2024",
        endDate: "30.09.2024",
        progress: 80,
        workStatus: "–ò–¥—ë—Ç",
        works: [
          {
            name: "–†–∞–±–æ—Ç–∞ 1: –î–µ–º–æ–Ω—Ç–∞–∂",
            objectId: 110628,
            district: "–¶–ê–û",
            performer: "–ê–î",
            responsible: "–ò–≤–∞–Ω–æ–≤",
            status: "–ó–∞–≤–µ—Ä—à–µ–Ω–æ",
            year: "2024",
            startDate: "01.03.2024",
            endDate: "15.05.2024",
            progress: 100,
            workStatus: "–ó–∞–≤–µ—Ä—à–µ–Ω–æ"
          },
          {
            name: "–†–∞–±–æ—Ç–∞ 2: –û–∑–µ–ª–µ–Ω–µ–Ω–∏–µ",
            objectId: 110628,
            district: "–¶–ê–û",
            performer: "–ê–î",
            responsible: "–ü–µ—Ç—Ä–æ–≤",
            status: "–í –ø—Ä–æ—Ü–µ—Å—Å–µ",
            year: "2024",
            startDate: "16.05.2024",
            endDate: "30.09.2024",
            progress: 60,
            workStatus: "–í —Ä–∞–±–æ—Ç–µ"
          }
        ]
      }
    ];

    const documentsData = [
      {
        id: "doc-110628-1",
        name: "üìÑ –†–µ–µ—Å—Ç—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∫ –∞–∫—Ç—É",
        objectId: 110628,
        docType: "–†–µ–µ—Å—Ç—Ä",
        docNumber: "–±/–Ω",
        uploadDate: "22.09.2024",
        pageCount: 2,
        sheetNum: 566
      },
      {
        id: "doc-110628-2",
        name: "üìÑ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∫–∞—á–µ—Å—Ç–≤–∞ (–≥–∞–∑–æ–Ω)",
        objectId: 110628,
        docType: "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç",
        docNumber: "829413–ì–¢",
        uploadDate: "03.10.2019",
        pageCount: 2,
        sheetNum: 568
      }
    ];

    // –¢–∞–±–ª–∏—Ü—ã
    const tableObjects = new Tabulator("#tableObjects", {
      data: objectData,
      columns: [
        { title: "–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ", field: "name", widthGrow: 2 },
        { title: "ID –æ–±—ä–µ–∫—Ç–∞", field: "objectId" },
        { title: "–°—Ç–∞—Ç—É—Å", field: "status" },
        { title: "–ì–æ–¥", field: "year" },
        { title: "–û–∫—Ä—É–≥", field: "district" },
        { title: "–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å", field: "performer" },
        { title: "–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π", field: "responsible" },
        { title: "–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞", field: "startDate" },
        { title: "–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è", field: "endDate" },
        { title: "–°—Ç–∞—Ç—É—Å —Ä–∞–±–æ—Ç—ã", field: "workStatus" },
        { title: "% –ó–∞–≤–µ—Ä—à–µ–Ω–∏—è", field: "progress" }
      ],
      layout: "fitColumns",
      height: 500,
      dataTree: true,
      dataTreeStartExpanded: false,
      dataTreeChildField: "works",
      placeholder: "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è"
    });

    const tableDocuments = new Tabulator("#tableDocuments", {
      data: documentsData,
      columns: [
        { title: "–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ", field: "name", widthGrow: 2 },
        { title: "–ù–æ–º–µ—Ä", field: "docNumber" },
        { title: "–î–∞—Ç–∞", field: "uploadDate" },
        { title: "–¢–∏–ø", field: "docType" },
        { title: "ID –æ–±—ä–µ–∫—Ç–∞", field: "objectId" },
        { title: "–õ–∏—Å—Ç–æ–≤", field: "pageCount" },
        { title: "–õ–∏—Å—Ç ‚Ññ", field: "sheetNum" }
      ],
      layout: "fitColumns",
      height: 500,
      groupBy: "objectId",
      placeholder: "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è"
    });

    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–∞–±–æ–≤
    document.querySelectorAll(".tab-btn").forEach(btn => {
      btn.addEventListener("click", () => {
        document.querySelectorAll(".tab-btn").forEach(b => b.classList.remove("active"));
        document.querySelectorAll(".tab-section").forEach(tab => tab.classList.remove("active"));
        btn.classList.add("active");
        document.getElementById(btn.dataset.tab).classList.add("active");
      });
    });

    // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤
    document.querySelectorAll("#object-filters input").forEach(input => {
      input.addEventListener("input", () => {
        tableObjects.setFilter([
          { field: "name", type: "like", value: document.getElementById("filter-name").value },
          { field: "objectId", type: "like", value: document.getElementById("filter-id").value },
          { field: "status", type: "like", value: document.getElementById("filter-status").value },
          { field: "district", type: "like", value: document.getElementById("filter-district").value },
          { field: "performer", type: "like", value: document.getElementById("filter-performer").value },
          { field: "year", type: "like", value: document.getElementById("filter-year").value },
          { field: "startDate", type: "like", value: document.getElementById("filter-start").value },
          { field: "endDate", type: "like", value: document.getElementById("filter-end").value }
        ]);
      });
    });

    // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
    document.querySelectorAll("#document-filters input").forEach(input => {
      input.addEventListener("input", () => {
        tableDocuments.setFilter([
          { field: "name", type: "like", value: document.getElementById("filter-doc-name").value },
          { field: "docNumber", type: "like", value: document.getElementById("filter-doc-num").value },
          { field: "uploadDate", type: "like", value: document.getElementById("filter-doc-date").value }
        ]);
      });
    });
  </script>
</body>
</html>
